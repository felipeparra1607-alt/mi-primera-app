<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fluxo ¬∑ Control de gastos</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app">
    <header class="app-header">
      <h1>Fluxo</h1>
    </header>

    <section class="tabs" role="tablist" aria-label="Navegaci√≥n principal">
      <button class="tab-button is-active" type="button" role="tab" aria-selected="true" data-tab="add">
        A√±adir gasto
      </button>
      <button class="tab-button" type="button" role="tab" aria-selected="false" data-tab="view">
        Ver gastos
      </button>
    </section>

    <section class="tab-panel is-visible" id="tab-add" role="tabpanel">
      <h2>A√±adir gasto</h2>

      <div class="field">
        <label for="concept" class="center-label">CONCEPTO</label>
        <input id="concept" name="concept" type="text" placeholder="EJ: SUPERMERCADO" autocomplete="off" />
      </div>

      <div class="field">
        <label>CANTIDAD</label>
        <div class="amount-control">
          <button class="amount-btn" type="button" data-action="decrement" aria-label="Restar">‚Äì</button>
          <div class="amount-display" id="amount-display" role="button" tabindex="0" aria-label="Editar cantidad">
            0,00
          </div>
          <button class="amount-btn" type="button" data-action="increment" aria-label="Sumar">+</button>
          <button class="currency-pill" type="button" id="currency-pill" aria-label="Seleccionar divisa">
            EUR
          </button>
        </div>
        <input class="amount-input" id="amount-input" type="number" inputmode="decimal" min="0" step="0.01" aria-label="Cantidad" />
      </div>

      <div class="field">
        <label>CATEGOR√çA</label>
        <div class="categories">
          <div class="cat-card" data-category="Restaurantes">
            <button class="cat-circle" type="button" aria-label="Restaurantes" data-color="restaurantes">üçΩÔ∏è</button>
            <div class="cat-name">RESTAURANTES</div>
          </div>
          <div class="cat-card" data-category="Supermercado">
            <button class="cat-circle" type="button" aria-label="Supermercado" data-color="supermercado">üõí</button>
            <div class="cat-name">SUPERMERCADO</div>
          </div>
          <div class="cat-card" data-category="Transporte">
            <button class="cat-circle" type="button" aria-label="Transporte" data-color="transporte">üöó</button>
            <div class="cat-name">TRANSPORTE</div>
          </div>
          <div class="cat-card" data-category="Gasolina">
            <button class="cat-circle" type="button" aria-label="Gasolina" data-color="gasolina">‚õΩ</button>
            <div class="cat-name">GASOLINA</div>
          </div>
          <div class="cat-card" data-category="Ocio">
            <button class="cat-circle" type="button" aria-label="Ocio" data-color="ocio">üéâ</button>
            <div class="cat-name">OCIO</div>
          </div>
          <div class="cat-card" data-category="Otros">
            <button class="cat-circle" type="button" aria-label="Otros" data-color="otros">‚ú®</button>
            <div class="cat-name">OTROS</div>
          </div>
          <div class="cat-card" data-category="Servicios">
            <button class="cat-circle" type="button" aria-label="Servicios" data-color="servicios">üí°</button>
            <div class="cat-name">SERVICIOS</div>
          </div>
          <div class="cat-card" data-category="Mascota">
            <button class="cat-circle" type="button" aria-label="Mascota" data-color="mascota">üêæ</button>
            <div class="cat-name">MASCOTA</div>
          </div>
          <div class="cat-card" data-category="Ni√±os">
            <button class="cat-circle" type="button" aria-label="Ni√±os" data-color="ninos">üë∂</button>
            <div class="cat-name">NI√ëOS</div>
          </div>
          <div class="cat-card" data-category="Empleada">
            <button class="cat-circle" type="button" aria-label="Empleada" data-color="empleada">üßπ</button>
            <div class="cat-name">EMPLEADA</div>
          </div>
        </div>
      </div>

      <div class="field">
        <label>FECHA</label>
        <button class="date-display" type="button" id="date-display" aria-label="Seleccionar fecha"></button>
      </div>

      <button class="primary-btn" type="button" id="save-expense">A√±adir gasto</button>
    </section>

    <section class="tab-panel" id="tab-view" role="tabpanel">
      <h2>Ver gastos</h2>

      <div class="vg-view" id="view-budget">
        <div class="vg-budget-cta" id="budget-cta">
          <button class="vg-btn vg-btn-primary" type="button" id="budget-start">Configurar presupuesto</button>
          <div class="vg-budget-actions">
            <button class="vg-btn vg-btn-secondary" type="button" id="budget-edit">Editar presupuesto</button>
            <button class="vg-btn vg-btn-danger" type="button" id="budget-disable">Quitar presupuesto</button>
          </div>
        </div>

        <div class="select-field">
          <label for="year-select">A√ëO</label>
          <select id="year-select"></select>
        </div>

        <section class="vg-evolution">
          <div class="vg-evolution-header">
            <h3>Evoluci√≥n</h3>
            <div class="vg-carousel-controls">
              <button class="vg-carousel-btn" type="button" id="evolution-prev" aria-label="Anterior">‚Äπ</button>
              <button class="vg-carousel-btn" type="button" id="evolution-next" aria-label="Siguiente">‚Ä∫</button>
            </div>
          </div>
          <div class="vg-card">
            <h3 id="evolution-title">Total por mes</h3>
            <div class="vg-chart">
              <canvas id="evolution-chart"></canvas>
              <div class="vg-chart-empty" id="evolution-empty">
                Configura un presupuesto para ver esta comparaci√≥n.
              </div>
            </div>
          </div>
          <div class="vg-carousel-dots" id="evolution-dots"></div>
        </section>

        <div class="select-field">
          <label for="month-select">MES</label>
          <select id="month-select"></select>
        </div>

        <section class="vg-donut">
          <div class="vg-donut-header">
            <h3>Categor√≠as del mes</h3>
          </div>
          <div class="vg-donut-content">
            <div class="vg-donut-chart">
              <canvas id="month-donut"></canvas>
              <div class="vg-donut-empty" id="month-donut-empty">Sin gastos este mes</div>
            </div>
            <div class="vg-donut-list" id="month-donut-list"></div>
          </div>
        </section>

        <div class="monthly-total">
          <div class="monthly-total-label">
            <span>Total del mes</span>
            <strong id="month-total">0,00 ‚Ç¨</strong>
          </div>
          <div class="monthly-total-breakdown" id="month-total-breakdown"></div>
        </div>
        <div class="vg-budget-note" id="budget-monthly-note">Este mes no tienes presupuesto definido</div>
        <div class="vg-budget-row">
          <div class="vg-budget-bar" id="monthly-budget-bar" aria-hidden="true">
            <span class="vg-budget-fill" id="monthly-budget-fill"></span>
            <span class="vg-budget-tooltip" id="monthly-budget-tooltip"></span>
          </div>
          <span class="vg-budget-text" id="monthly-budget-text"></span>
        </div>

        <div class="expenses-list" id="expenses-list"></div>
      </div>

      <div class="vg-wizard" id="budget-wizard" aria-hidden="true">
        <button class="vg-back-btn" type="button" id="budget-back">‚Üê Volver</button>
        <div class="vg-step">Paso <span id="budget-step">1</span> de 3</div>

        <div class="vg-step-panel is-active" data-step="0">
          <h3>¬øC√≥mo quieres tu presupuesto?</h3>
          <div class="vg-radio-group">
            <button class="vg-radio-card" type="button" id="budget-mode-template">
              <span class="vg-radio-title">Mismo presupuesto todos los meses</span>
              <span class="vg-radio-note">Usa el mismo monto mensual en todo el a√±o.</span>
            </button>
            <button class="vg-radio-card" type="button" id="budget-mode-monthly">
              <span class="vg-radio-title">Presupuesto diferente por mes</span>
              <span class="vg-radio-note">Configura un monto distinto seg√∫n el mes.</span>
            </button>
          </div>
        </div>

        <div class="vg-step-panel" data-step="1">
          <h3>Presupuesto mensual</h3>
          <div class="vg-step-panel-month" id="budget-month-selector">
            <label for="budget-month-select">Mes del presupuesto</label>
            <select id="budget-month-select"></select>
          </div>
          <label for="budget-month-amount">Cantidad mensual</label>
          <input id="budget-month-amount" type="number" inputmode="decimal" min="0" step="0.01" />
          <button class="primary-btn" type="button" id="budget-next-1">Siguiente</button>
        </div>

        <div class="vg-step-panel" data-step="2">
          <h3>Presupuesto por categor√≠a</h3>
          <div class="vg-step-ref" id="budget-step-ref"></div>
          <div class="vg-step-ref" id="budget-step-month"></div>
          <div class="vg-category-inputs">
            <div class="vg-category-row">
              <span>Restaurantes</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Restaurantes" />
            </div>
            <div class="vg-category-row">
              <span>Supermercado</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Supermercado" />
            </div>
            <div class="vg-category-row">
              <span>Transporte</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Transporte" />
            </div>
            <div class="vg-category-row">
              <span>Gasolina</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Gasolina" />
            </div>
            <div class="vg-category-row">
              <span>Ocio</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Ocio" />
            </div>
            <div class="vg-category-row">
              <span>Otros</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Otros" />
            </div>
            <div class="vg-category-row">
              <span>Servicios</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Servicios" />
            </div>
            <div class="vg-category-row">
              <span>Mascota</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Mascota" />
            </div>
            <div class="vg-category-row">
              <span>Ni√±os</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Ni√±os" />
            </div>
            <div class="vg-category-row">
              <span>Empleada</span>
              <input type="number" inputmode="decimal" min="0" step="0.01" data-category-budget="Empleada" />
            </div>
          </div>
          <div class="vg-step-actions">
            <button class="vg-btn vg-btn-secondary" type="button" id="budget-skip">Omitir</button>
            <button class="primary-btn" type="button" id="budget-activate">Activar presupuesto</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <div class="modal" id="currency-modal" aria-hidden="true">
    <div class="modal-overlay" data-close="currency"></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="currency-title">
      <h3 id="currency-title">Selecciona una divisa</h3>
      <div class="currency-options">
        <button type="button" data-currency="EUR">EUR ‚Ç¨</button>
        <button type="button" data-currency="USD">USD $</button>
        <button type="button" data-currency="GBP">GBP ¬£</button>
        <button type="button" data-currency="COP">COP $</button>
        <button type="button" data-currency="MXN">MXN $</button>
      </div>
    </div>
  </div>

  <div class="modal" id="date-modal" aria-hidden="true">
    <div class="modal-overlay" data-close="date"></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="date-title">
      <h3 id="date-title">Selecciona una fecha</h3>
      <div class="quick-pills">
        <button type="button" class="pill" data-quick="today">Hoy</button>
        <button type="button" class="pill" data-quick="yesterday">Ayer</button>
      </div>
      <div class="date-mode">
        <button type="button" class="mode-btn is-active" data-mode="day">D√≠a</button>
        <button type="button" class="mode-btn" data-mode="month">Mes</button>
        <button type="button" class="mode-btn" data-mode="year">A√±o</button>
      </div>
      <div class="date-pills" id="date-pills"></div>
      <button class="primary-btn" type="button" id="confirm-date">Listo</button>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">
    <span>‚úÖ Gasto guardado</span>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="./script.js"></script>
</body>
</html>
